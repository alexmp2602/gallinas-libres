---
import IconBrandWhatsapp from "./icons/IconBrandWhatsapp.astro";
---

<section
  id="contacto"
  aria-labelledby="contacto-title"
  class="section bg-orange-50 overflow-hidden"
>
  <div
    id="contactoContent"
    class="container text-center space-y-6 will-change-transform"
  >
    <h2 id="contacto-title" class="section-title text-orange-600">
      Contactanos
    </h2>
    <p
      class="max-w-2xl mx-auto text-base sm:text-lg text-neutral-800 leading-relaxed"
    >
      Abastec√© tu comercio con huevos frescos de gallinas libres, con entregas
      regulares, calidad garantizada y precios competitivos. Sumate a nuestra
      red de mayoristas que eligen productos responsables y de confianza.
    </p>
    <a
      id="whatsappCTA"
      href="https://wa.me/5492324560122?text=Hola!%20Estoy%20interesado%20en%20consultar%20sobre%20huevos%20mayoristas."
      target="_blank"
      rel="noopener"
      class="inline-flex items-center gap-2 bg-green-500 text-white font-semibold px-6 py-3 rounded-md shadow hover:bg-green-600 active:bg-green-700 transition focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"
    >
      <IconBrandWhatsapp size={24} color="#fff" />
      <span>Contactar por WhatsApp</span>
    </a>
  </div>

  <!-- Script Motion One -->
  <script type="module" is:inline>
    import { animate, inView } from "https://esm.sh/motion";

    const contacto = document.getElementById("contactoContent");
    if (contacto) {
      inView(
        contacto,
        () => {
          animate(
            contacto,
            { opacity: [0, 1] },
            { duration: 0.8, easing: "cubic-bezier(0.4, 0, 0.2, 1)" }
          );
        },
        { margin: "-20% 0px" }
      );
    }

    const btn = document.getElementById("whatsappCTA");
    if (btn) {
      btn.addEventListener("mouseenter", () => {
        animate(btn, { scale: 1.05 }, { duration: 0.3, easing: "ease-out" });
      });
      btn.addEventListener("mouseleave", () => {
        animate(btn, { scale: 1 }, { duration: 0.3, easing: "ease-in" });
      });
      btn.addEventListener("mousedown", () => {
        animate(
          btn,
          { scale: 0.95 },
          { duration: 0.15, easing: "ease-in-out" }
        );
      });
      btn.addEventListener("mouseup", () => {
        animate(
          btn,
          { scale: 1.05 },
          { duration: 0.15, easing: "ease-in-out" }
        );
      });
    }
  </script>
</section>
